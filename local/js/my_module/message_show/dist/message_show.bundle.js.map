{"version":3,"file":"message_show.bundle.js","sources":["../src/message_show.js"],"sourcesContent":["import {Loc, Type} from 'main.core';\nimport {MessageBox, MessageBoxButtons} from 'ui.dialogs.messagebox';\n\nexport class MessageShow {\n    eventsEnabled;\n\n    initEvents() {\n        BX.addCustomEvent(\"onPullEvent-my_module\", (command, params) => {\n            if (!Type.isStringFilled(params.message)) {\n                return;\n            }\n\n            this.checkType(command, params);\n        });\n    }\n\n    checkType(type, params) {\n        const title = params.title ? params.title : null;\n        switch (type) {\n            case \"error\":\n                this.showErrorAlert(params.message, title);\n                break;\n            case \"message\":\n                this.showAlert(params.message, title);\n                break;\n        }\n    }\n\n    showErrorAlert(message, title = null) {\n        if (!Type.isStringFilled(title)) {\n            title = Loc.getMessage('MT_ERROR_TITLE')\n        }\n        if (Type.isStringFilled(message)) {\n            this.showAlert(title, message);\n        }\n    }\n\n    showAlert(title = null, message) {\n        MessageBox.show({\n            title,\n            message,\n            modal: true,\n            buttons: MessageBoxButtons.OK,\n            onOk: (messageBox) => {\n                messageBox.close();\n            }\n        });\n    }\n}\n\nBX.ready(function () {\n    if (Type.isUndefined(BX.Mymodule.MessageShow.eventsEnabled)) {\n        const messageShow = new BX.Mymodule.MessageShow();\n        messageShow.initEvents();\n        BX.Mymodule.MessageShow.eventsEnabled = true;\n    }\n});\n"],"names":["MessageShow","babelHelpers","key","value","BX","addCustomEvent","command","params","Type","isStringFilled","message","_this","checkType","type","title","this","showErrorAlert","showAlert","Loc","getMessage","MessageBox","show","modal","buttons","MessageBoxButtons","OK","onOk","messageBox","close","ready","isUndefined","Mymodule","eventsEnabled","initEvents"],"mappings":"qDAGaA,aAAb,aAAAC,oCAAA,OAAAA,6BAAAC,iBAAAC,iBAGiB,WACTC,GAAGC,eAAe,yBAAyB,SAACC,EAASC,GAC5CC,OAAKC,eAAeF,EAAOG,UAIhCC,EAAKC,UAAUN,EAASC,SATpCL,gBAAAC,eAacU,EAAMN,GACZ,IAAMO,EAAQP,EAAOO,MAAQP,EAAOO,MAAQ,KAC5C,OAAQD,GACJ,IAAK,QACDE,KAAKC,eAAeT,EAAOG,QAASI,GACpC,MACJ,IAAK,UACDC,KAAKE,UAAUV,EAAOG,QAASI,OApB/CZ,qBAAAC,eAyBmBO,GAAuB,IAAdI,yDAAQ,KACvBN,OAAKC,eAAeK,KACrBA,EAAQI,MAAIC,WAAW,mBAEvBX,OAAKC,eAAeC,IACpBK,KAAKE,UAAUH,EAAOJ,MA9BlCR,gBAAAC,iBAkCqC,IAAvBW,yDAAQ,KAAMJ,yCACpBU,aAAWC,KAAK,CACZP,MAAAA,EACAJ,QAAAA,EACAY,OAAO,EACPC,QAASC,oBAAkBC,GAC3BC,KAAM,SAACC,GACHA,EAAWC,gBAzC3B,IA+CAxB,GAAGyB,OAAM,WACDrB,OAAKsB,YAAY1B,GAAG2B,SAAS/B,YAAYgC,kBACrB,IAAI5B,GAAG2B,SAAS/B,aACxBiC,aACZ7B,GAAG2B,SAAS/B,YAAYgC,eAAgB,EAE/C"}